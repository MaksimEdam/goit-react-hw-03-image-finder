{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/App/App.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.module.css","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/App/App.jsx","index.js"],"names":["module","exports","Searchbar","state","imageName","handleNameChange","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","alert","className","s","SearchForm","this","type","SearchFormButton","style","marginRight","SearchFormButtonLabel","SearchFormInput","autocomplete","autofocus","placeholder","onChange","Component","ImageGalleryItem","image","tags","src","alt","ImageGalleryItemImage","ImageGallery","items","map","item","webformatURL","Button","onBtnClick","onClick","App","myRef","React","createRef","loading","page","handleFormSubmit","current","scrollIntoView","prevState","prevProps","prevName","nextName","axios","get","then","result","data","hits","finally","ref","length","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4873701f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__P-Y9u\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2t_Cg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__JhUUE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1fRcl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3EvMT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__nU9-x\",\"SearchForm\":\"Searchbar_SearchForm__3wvmo\",\"SearchFormButton\":\"Searchbar_SearchFormButton__2aS3K\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__2JK8x\",\"SearchFormInput\":\"Searchbar_SearchFormInput__1-1Nh\"};","import { ImSearch } from \"react-icons/im\";\r\nimport s from \"./Searchbar.module.css\";\r\nimport React, { Component } from \"react\";\r\nclass Searchbar extends Component {\r\n  state = {\r\n    imageName: \"\",\r\n  };\r\n\r\n  handleNameChange = (event) => {\r\n    this.setState({ imageName: event.currentTarget.value.toLowerCase() });\r\n  };\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    if (this.state.imageName.trim() === \"\") {\r\n      alert(\"Введите имя\");\r\n      return;\r\n    }\r\n    this.props.onSubmit(this.state.imageName);\r\n    this.setState({ imageName: \"\" });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={s.Searchbar}>\r\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={s.SearchFormButton}>\r\n            <ImSearch style={{ marginRight: 8 }} />\r\n            <span className={s.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={s.SearchFormInput}\r\n            type=\"text\"\r\n            autocomplete=\"off\"\r\n            autofocus\r\n            placeholder=\"Search images and photos\"\r\n            value={this.state.imageName}\r\n            onChange={this.handleNameChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import s from \"./ImageGalleryItem.module.css\";\r\n\r\nfunction ImageGalleryItem({ image, tags }) {\r\n  return (\r\n    <li className={s.ImageGalleryItem}>\r\n      <img src={image} alt={tags} className={s.ImageGalleryItemImage} />\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default ImageGalleryItem;\r\n","import ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\nimport s from \"./ImageGallery.module.css\";\r\n\r\nfunction ImageGallery({ items }) {\r\n  return (\r\n    <ul className={s.ImageGallery}>\r\n      {items.map((item) => (\r\n        <ImageGalleryItem image={item.webformatURL} tags={item.tags} />\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n\r\nexport default ImageGallery;\r\n","import React from \"react\";\r\nimport s from \"./Button.module.css\";\r\nfunction Button({ onBtnClick }) {\r\n  return (\r\n    <button className={s.Button} onClick={onBtnClick}>\r\n      Load more\r\n    </button>\r\n  );\r\n}\r\nexport default Button;\r\n","import axios from \"axios\";\nimport Searchbar from \"../Searchbar/Searchbar\";\nimport s from \"./App.module.css\";\nimport React, { Component } from \"react\";\nimport ImageGallery from \"../ImageGallery/ImageGallery\";\nimport Button from \"../Button/Button\";\n\nclass App extends Component {\n  myRef = React.createRef();\n  state = {\n    imageName: \"\",\n    loading: false,\n    items: [],\n    page: 1,\n  };\n\n  /* \n  componentDidMount() {\n    this.setState({ loading: true });\n    axios\n      .get(\n        `https://pixabay.com/api/?q=${this.state.imageName}&page=1&key=18992166-123806360f211761da038f5eb&image_type=photo&orientation=horizontal&per_page=12`\n      )\n      .then((result) => {\n        this.setState({ items: result.data.hits });\n      })\n      .finally(() => this.setState({ loading: false }));\n  } */\n  componentDidUpdate(prevProps, prevState) {\n    const prevName = prevState.imageName;\n    const nextName = this.state.imageName;\n    if (prevName !== nextName || prevState.page !== this.state.page) {\n      this.setState({ loading: true });\n      axios\n        .get(\n          `https://pixabay.com/api/?q=${nextName}&page=${this.state.page}&key=18992166-123806360f211761da038f5eb&image_type=photo&orientation=horizontal&per_page=12`\n        )\n        /* .then((result) => {\n          this.setState({ items: result.data.hits }); */\n        .then((result) => {\n          this.setState((prevState) => ({\n            items: [...prevState.items, ...result.data.hits],\n          }));\n        })\n        .finally(() => this.setState({ loading: false }));\n    }\n  }\n  handleFormSubmit = (imageName) => {\n    this.setState({ imageName });\n    this.setState({ items: [] });\n    this.myRef.current.scrollIntoView();\n  };\n  onBtnClick = () => {\n    this.setState((prevState) => ({ page: prevState.page + 1 }));\n  };\n  render() {\n    const { items } = this.state;\n    return (\n      <div className={s.App} ref={this.myRef}>\n        {this.state.loading && <h2>Loading...</h2>}\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        <ImageGallery items={items} />\n        {this.state.items.length > 0 && <Button onBtnClick={this.onBtnClick} />}\n      </div>\n    );\n  }\n}\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport \"modern-normalize/modern-normalize.css\";\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}