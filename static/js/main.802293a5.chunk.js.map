{"version":3,"sources":["components/Searchbar/Searchbar.module.css","components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Spinner/Spinner.module.css","components/App/App.module.css","components/Modal/Modal.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Searchbar/Searchbar.jsx","components/Button/Button.jsx","components/Spinner/Spinner.jsx","services/imagesApi.js","components/App/App.jsx","index.js"],"names":["module","exports","modalRoot","document","querySelector","Modal","handleKeyDown","e","code","props","toggleModal","handleBackdropClick","currentTarget","target","window","addEventListener","this","removeEventListener","createPortal","className","s","Overlay","onClick","src","largeImageURL","alt","tags","Component","ImageGalleryItem","state","showModal","setState","ImageGalleryItemImage","webformatURL","ImageGallery","items","map","id","Searchbar","imageName","handleNameChange","event","value","toLowerCase","handleSubmit","preventDefault","trim","onSubmit","toast","warn","SearchForm","type","SearchFormButton","style","marginRight","SearchFormButtonLabel","SearchFormInput","placeholder","onChange","Button","onBtnClick","Spinner","loader","color","height","width","timeout","nextName","page","a","axios","get","data","console","error","defaults","baseURL","params","key","image_type","orientation","per_page","imagesApi","App","loading","handleFormSubmit","prevState","prevProps","prevName","result","hits","length","theme","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.802293a5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__nU9-x\",\"SearchForm\":\"Searchbar_SearchForm__3wvmo\",\"SearchFormButton\":\"Searchbar_SearchFormButton__2aS3K\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__2JK8x\",\"SearchFormInput\":\"Searchbar_SearchFormInput__1-1Nh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3CqLH\",\"Modal\":\"Modal_Modal__2wkP5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__P-Y9u\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2t_Cg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1fRcl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3EvMT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Spinner_loader__24qF1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__JhUUE\"};","import { Component } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport s from \"./Modal.module.css\";\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\nexport default class Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      this.props.toggleModal();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = (e) => {\r\n    const clickedOnBackdrop = e.currentTarget === e.target;\r\n    if (clickedOnBackdrop) {\r\n      this.props.toggleModal();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className={s.Overlay} onClick={this.handleBackdropClick}>\r\n        <div className={s.Modal}>\r\n          <img src={this.props.largeImageURL} alt={this.props.tags} />\r\n        </div>\r\n      </div>,\r\n      modalRoot\r\n    );\r\n  }\r\n}\r\n","import { Component } from \"react\";\r\nimport Modal from \"../Modal\";\r\nimport s from \"./ImageGalleryItem.module.css\";\r\nexport default class ImageGalleryItem extends Component {\r\n  state = {\r\n    showModal: false,\r\n  };\r\n\r\n  toggleModal = () => {\r\n    this.setState(({ showModal }) => ({\r\n      showModal: !showModal,\r\n    }));\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <li className={s.ImageGalleryItem}>\r\n        <img\r\n          onClick={this.toggleModal}\r\n          className={s.ImageGalleryItemImage}\r\n          src={this.props.webformatURL}\r\n          alt={this.props.tags}\r\n        />\r\n        {this.state.showModal && (\r\n          <Modal\r\n            largeImageURL={this.props.largeImageURL}\r\n            toggleModal={this.toggleModal}\r\n            alt={this.props.tags}\r\n          />\r\n        )}\r\n      </li>\r\n    );\r\n  }\r\n}\r\n","import ImageGalleryItem from \"../ImageGalleryItem\";\r\nimport s from \"./ImageGallery.module.css\";\r\n\r\nfunction ImageGallery({ items }) {\r\n  return (\r\n    <ul className={s.ImageGallery}>\r\n      {items.map(({ id, webformatURL, largeImageURL, tags }) => (\r\n        <ImageGalleryItem\r\n          key={id}\r\n          webformatURL={webformatURL}\r\n          largeImageURL={largeImageURL}\r\n          tags={tags}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n\r\nexport default ImageGallery;\r\n","import { toast } from \"react-toastify\";\r\nimport { ImSearch } from \"react-icons/im\";\r\nimport React, { Component } from \"react\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport s from \"./Searchbar.module.css\";\r\nclass Searchbar extends Component {\r\n  state = {\r\n    imageName: \"\",\r\n  };\r\n\r\n  handleNameChange = (event) => {\r\n    this.setState({ imageName: event.currentTarget.value.toLowerCase() });\r\n  };\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    if (this.state.imageName.trim() === \"\") {\r\n      toast.warn(\"Введите поисковый запрос\");\r\n      return;\r\n    }\r\n\r\n    this.props.onSubmit(this.state.imageName);\r\n    this.setState({ imageName: \"\" });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={s.Searchbar}>\r\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={s.SearchFormButton}>\r\n            <ImSearch style={{ marginRight: 8 }} />\r\n            <span className={s.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n          <input\r\n            className={s.SearchFormInput}\r\n            type=\"text\"\r\n            placeholder=\"Search images and photos\"\r\n            value={this.state.imageName}\r\n            onChange={this.handleNameChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import React from \"react\";\r\nimport s from \"./Button.module.css\";\r\n\r\nfunction Button({ onBtnClick }) {\r\n  return (\r\n    <button className={s.Button} onClick={onBtnClick}>\r\n      Load more\r\n    </button>\r\n  );\r\n}\r\nexport default Button;\r\n","import Loader from \"react-loader-spinner\";\r\nimport React, { Component } from \"react\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport s from \"./Spinner.module.css\";\r\n\r\nexport default class Spinner extends Component {\r\n  render() {\r\n    return (\r\n      <Loader\r\n        className={s.loader}\r\n        type=\"BallTriangle\"\r\n        color=\"#00BFFF\"\r\n        height={150}\r\n        width={150}\r\n        timeout={1000}\r\n      />\r\n    );\r\n  }\r\n}\r\n","import axios from \"axios\";\r\n\r\naxios.defaults.baseURL = \"https://pixabay.com/api/\";\r\naxios.defaults.params = {\r\n  key: \"18992166-123806360f211761da038f5eb\",\r\n  image_type: \"photo\",\r\n  orientation: \"horizontal\",\r\n  per_page: \"12\",\r\n};\r\n\r\nasync function imagesApi(nextName, page) {\r\n  try {\r\n    const { data } = await axios.get(`?q=${nextName}&page=${page}`);\r\n    return data;\r\n  } catch (e) {\r\n    console.error(e);\r\n  }\r\n}\r\n\r\nexport default imagesApi;\r\n","import React, { Component } from \"react\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport ImageGallery from \"../ImageGallery\";\nimport Searchbar from \"../Searchbar\";\nimport Button from \"../Button\";\nimport Spinner from \"../Spinner\";\nimport imagesApi from \"../../services/imagesApi\";\nimport s from \"./App.module.css\";\n\nclass App extends Component {\n  state = {\n    imageName: \"\",\n    loading: false,\n    items: [],\n    page: 1,\n  };\n\n  async componentDidUpdate(prevProps, prevState) {\n    const prevName = prevState.imageName;\n    const nextName = this.state.imageName;\n\n    if (prevName !== nextName || prevState.page !== this.state.page) {\n      this.setState({ loading: true });\n\n      try {\n        const result = await imagesApi(nextName, this.state.page);\n        this.setState((prevState) => ({\n          items: [...prevState.items, ...result.hits],\n        }));\n        if (!this.state.items.length) {\n          toast.error(\"фото отсутствует\");\n        }\n      } catch (e) {\n        console.error(e);\n      } finally {\n        this.setState({ loading: false });\n      }\n    }\n  }\n\n  handleFormSubmit = (imageName) => {\n    this.setState({ imageName });\n    this.setState({ items: [] });\n    this.setState({ page: 1 });\n  };\n\n  onBtnClick = () => {\n    this.setState((prevState) => ({ page: prevState.page + 1 }));\n  };\n\n  render() {\n    const { items } = this.state;\n    return (\n      <div className={s.App}>\n        {this.state.loading && <Spinner />}\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        <ImageGallery items={items} />\n        {this.state.items.length > 0 && <Button onBtnClick={this.onBtnClick} />}\n        <ToastContainer theme=\"colored\" />\n      </div>\n    );\n  }\n}\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport \"modern-normalize/modern-normalize.css\";\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}