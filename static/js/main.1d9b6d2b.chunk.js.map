{"version":3,"sources":["components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/App/App.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.jsx","components/Modal/Modal.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/App/App.jsx","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","imageName","handleNameChange","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","alert","className","s","SearchForm","this","type","SearchFormButton","style","marginRight","SearchFormButtonLabel","SearchFormInput","autocomplete","autofocus","placeholder","onChange","Component","modalRoot","document","querySelector","Modal","handleKeyDown","e","code","toggleModal","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","Overlay","onClick","src","largeImageURL","alt","ImageGalleryItem","showModal","ImageGalleryItemImage","galleryItemImage","webformatURL","tags","ImageGallery","items","map","id","Button","onBtnClick","App","loading","page","handleFormSubmit","prevState","prevProps","prevName","nextName","axios","get","then","result","data","hits","finally","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.1d9b6d2b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3CqLH\",\"Modal\":\"Modal_Modal__2wkP5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__P-Y9u\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2t_Cg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__JhUUE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1fRcl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3EvMT\"};","import { ImSearch } from \"react-icons/im\";\r\nimport s from \"./Searchbar.module.css\";\r\nimport React, { Component } from \"react\";\r\nclass Searchbar extends Component {\r\n  state = {\r\n    imageName: \"\",\r\n  };\r\n\r\n  handleNameChange = (event) => {\r\n    this.setState({ imageName: event.currentTarget.value.toLowerCase() });\r\n  };\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    if (this.state.imageName.trim() === \"\") {\r\n      alert(\"Введите имя\");\r\n      return;\r\n    }\r\n    this.props.onSubmit(this.state.imageName);\r\n    this.setState({ imageName: \"\" });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={s.Searchbar}>\r\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={s.SearchFormButton}>\r\n            <ImSearch style={{ marginRight: 8 }} />\r\n            <span className={s.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={s.SearchFormInput}\r\n            type=\"text\"\r\n            autocomplete=\"off\"\r\n            autofocus\r\n            placeholder=\"Search images and photos\"\r\n            value={this.state.imageName}\r\n            onChange={this.handleNameChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import { Component } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport s from \"./Modal.module.css\";\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\n\r\nexport default class Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      this.props.toggleModal();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = (e) => {\r\n    const clickedOnBackdrop = e.currentTarget === e.target;\r\n    if (clickedOnBackdrop) {\r\n      this.props.toggleModal();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className={s.Overlay} onClick={this.handleBackdropClick}>\r\n        <div className={s.Modal}>\r\n          <img src={this.props.largeImageURL} alt=\"img\" />\r\n        </div>\r\n      </div>,\r\n      modalRoot\r\n    );\r\n  }\r\n}\r\n","import { Component } from \"react\";\r\nimport Modal from \"../Modal/Modal\";\r\nimport s from \"./ImageGalleryItem.module.css\";\r\n\r\nexport default class ImageGalleryItem extends Component {\r\n  state = {\r\n    showModal: false,\r\n  };\r\n\r\n  toggleModal = () => {\r\n    this.setState(({ showModal }) => ({\r\n      showModal: !showModal,\r\n    }));\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <li className={s.ImageGalleryItemImage}>\r\n        <img\r\n          onClick={this.toggleModal}\r\n          className={s.galleryItemImage}\r\n          src={this.props.webformatURL}\r\n          alt={this.props.tags}\r\n        />\r\n        {this.state.showModal && (\r\n          <Modal\r\n            largeImageURL={this.props.largeImageURL}\r\n            toggleModal={this.toggleModal}\r\n          />\r\n        )}\r\n      </li>\r\n    );\r\n  }\r\n}\r\n","import ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\nimport s from \"./ImageGallery.module.css\";\r\n\r\nfunction ImageGallery({ items }) {\r\n  return (\r\n    <ul className={s.ImageGallery}>\r\n      {items.map(({ id, webformatURL, largeImageURL, tags }) => (\r\n        <ImageGalleryItem\r\n          key={id}\r\n          id={id}\r\n          webformatURL={webformatURL}\r\n          largeImageURL={largeImageURL}\r\n          tags={tags}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n\r\nexport default ImageGallery;\r\n","import React from \"react\";\r\nimport s from \"./Button.module.css\";\r\nfunction Button({ onBtnClick }) {\r\n  return (\r\n    <button className={s.Button} onClick={onBtnClick}>\r\n      Load more\r\n    </button>\r\n  );\r\n}\r\nexport default Button;\r\n","import axios from \"axios\";\nimport Searchbar from \"../Searchbar/Searchbar\";\nimport s from \"./App.module.css\";\nimport React, { Component } from \"react\";\nimport ImageGallery from \"../ImageGallery/ImageGallery\";\nimport Button from \"../Button/Button\";\n//import Modal from \"../Modal/Modal\";\n\nclass App extends Component {\n  state = {\n    imageName: \"\",\n    loading: false,\n    items: [],\n    page: 1,\n  };\n  /* \n  componentDidMount() {\n    this.setState({ loading: true });\n    axios\n      .get(\n        `https://pixabay.com/api/?q=${this.state.imageName}&page=1&key=18992166-123806360f211761da038f5eb&image_type=photo&orientation=horizontal&per_page=12`\n      )\n      .then((result) => {\n        this.setState({ items: result.data.hits });\n      })\n      .finally(() => this.setState({ loading: false }));\n  } */\n  componentDidUpdate(prevProps, prevState) {\n    const prevName = prevState.imageName;\n    const nextName = this.state.imageName;\n    if (prevName !== nextName || prevState.page !== this.state.page) {\n      this.setState({ loading: true });\n      axios\n        .get(\n          `https://pixabay.com/api/?q=${nextName}&page=${this.state.page}&key=18992166-123806360f211761da038f5eb&image_type=photo&orientation=horizontal&per_page=12`\n        )\n        /* .then((result) => {\n          this.setState({ items: result.data.hits }); */\n        .then((result) => {\n          this.setState((prevState) => ({\n            items: [...prevState.items, ...result.data.hits],\n          }));\n        })\n        .finally(() => this.setState({ loading: false }));\n    }\n  }\n  handleFormSubmit = (imageName) => {\n    this.setState({ imageName });\n  };\n  onBtnClick = () => {\n    this.setState((prevState) => ({ page: prevState.page + 1 }));\n  };\n\n  render() {\n    const { items } = this.state;\n    return (\n      <div className={s.App}>\n        {this.state.loading && <h2>Loading...</h2>}\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        <ImageGallery items={items} />\n        {this.state.items.length > 0 && <Button onBtnClick={this.onBtnClick} />}\n      </div>\n    );\n  }\n}\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport \"modern-normalize/modern-normalize.css\";\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__nU9-x\",\"SearchForm\":\"Searchbar_SearchForm__3wvmo\",\"SearchFormButton\":\"Searchbar_SearchFormButton__2aS3K\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__2JK8x\",\"SearchFormInput\":\"Searchbar_SearchFormInput__1-1Nh\"};"],"sourceRoot":""}